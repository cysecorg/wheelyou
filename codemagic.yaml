workflows:
  build_wheelyou:
    name: Build Wheelyou
    environment:
      flutter: "3.37.0-0.1.pre" # Flutter dev channel with Dart 3.10
      xcode: latest
      cocoapods: default
      android: stable
    scripts:
      - name: Switch to Flutter dev channel
        script: |
          flutter channel dev
          flutter upgrade
      - name: Install Flutter dependencies
        script: |
          flutter pub get
      - name: Analyze project
        script: |
          flutter analyze
      - name: Run tests
        script: |
          flutter test
      - name: Build APK
        script: |
          flutter build apk --release
      - name: Build iOS
        script: |
          flutter build ios --release
